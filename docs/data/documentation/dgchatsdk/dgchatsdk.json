{"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"anchor":"üè∑-License","text":"üè∑ License"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"DGChatSDK"},{"type":"text","text":" is a property of Digital Genius Ltd."}]},{"type":"heading","text":"Requirements","level":3,"anchor":"Requirements"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Xcode 14.2+"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"This SDK enables the DigitalGenius Chat Widget to be embedded anywhere inside an iOS app. The SDK requires minimal setup. Please refer ","type":"text"},{"code":"Demo.xcworkspace","type":"codeVoice"},{"text":" for an example.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"A DigitalGenius Customer Success Manager will provide you with a ","type":"text"},{"code":"widgetId","type":"codeVoice"},{"text":", ","type":"text"},{"code":"env","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"scriptVersion","type":"codeVoice"},{"text":" before getting started. Please see the ","type":"text"},{"type":"codeVoice","code":"Integrating SDK to your project"},{"text":" section for details on how to integrate following settings into an iOS app using the SDK.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Please note - this SDK is designed to work for both - UIKit and SwiftUI apps. ","type":"text"},{"type":"strong","inlineContent":[{"text":"Originally developed using UIKit","type":"text"}]},{"text":" with SiwftUI wrapper for flexibility on user end.","type":"text"}]},{"inlineContent":[{"type":"text","text":"For more details on SwiftUI usage, please refer to [SwiftUI](# SwiftUI) documentation section."}],"type":"paragraph"},{"text":"Installation","level":2,"anchor":"Installation","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"DGChatSDK is configured to be used exlusively with ","type":"text"},{"inlineContent":[{"text":"Swift Package Manager","type":"text"}],"type":"strong"},{"type":"text","text":" (SPM)."}]},{"inlineContent":[{"text":"To get started, add the DGChatSDK package as a dependency to your project:","type":"text"}],"type":"paragraph"},{"code":[".package(url: \"https:\/\/github.com\/DigitalGenius\/genius-chat-widget-sdk-ios.git\", from: \"1.0.0\"),"],"type":"codeListing","syntax":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you‚Äôre inlcuding this package as a dependecy inside your package, add it to your target using:"}]},{"syntax":null,"code":[".product(name: \"DGChatSDK\", package: \"DGChatSDK\"),"],"type":"codeListing"},{"anchor":"Basic-usage-example","text":"Basic usage example.","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"First of all, import "},{"type":"codeVoice","code":"DGChatSDK"},{"type":"text","text":"."}]},{"syntax":"swift","type":"codeListing","code":["import DGChatSDK"]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"DGChatSDK"},{"text":" uses delegate methods to get its configuration items and provide callbacks about user actions.","type":"text"}]},{"type":"codeListing","code":["final class MyViewController: UIViewController, DGChatDelegate {","","    override func viewDidLoad() {","        super.viewDidLoad()","        DGChat.delegate = self","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To make everything work as expected, you‚Äôll need to implement a "},{"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChatDelegate","isActive":true,"type":"reference"},{"type":"text","text":" protocol."}]},{"inlineContent":[{"type":"text","text":"The most important and required delegate properties are:"}],"type":"paragraph"},{"inlineContent":[{"code":"DGChatDelegate.widgetId","type":"codeVoice"},{"text":" - which tells SDK your unique client identifier.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"code":"DGChatDelegate.env","type":"codeVoice"},{"text":" - environment version for your particular case.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"code":"DGChatDelegate.scriptVersion","type":"codeVoice"},{"type":"text","text":" - a version of the script, used by your organization."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"All of these information is provided by a DigitalGenius Customer Success Manager.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Plase see an example implementation below:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["var widgetId: String {","    \"b5e736c9-1508-41df-827e-212e13f52929\"","}","","var env: String {","    \"eu\"","}","","var scriptVersion: String {","    \"1.1.0\"","}"]},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"‚ö†Ô∏è It is highly important to provide ","type":"text"},{"code":"DGChatDelegate.scriptVersion","type":"codeVoice"},{"text":" as a ","type":"text"},{"identifier":"https:\/\/en.wikipedia.org\/wiki\/Software_versioning","isActive":true,"type":"reference"},{"type":"text","text":". Otherwise, you‚Äôll encounter runtime error."}]}],"style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"And finally, just call "},{"type":"codeVoice","code":"DGChat.added(to:animated:completion:)"},{"text":" to present a chat button on top of specified ViewController.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["DGChat.added(to: self) { [weak self] chatView in","    print(\"ChatView shown with frame \\(chatView.frame)\")","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Also, there is a support of presenting chat over UIView using "},{"type":"codeVoice","code":"DGChat.added(to:animated:completion:)"},{"type":"text","text":", example also provided, this gives additional ways of usage, for example - adding widget to PopUp or some custom containers and even over App Window if needed. Same could be also done with UIViewController approach."}]},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"üßê Best user experience with DGChatSDK achieved when using maximum possible view size e.g. - full size UIView or Window itself."}]}]},{"level":2,"type":"heading","text":"Using Widget metadata","anchor":"Using-Widget-metadata"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can specify a "},{"code":"metadata","type":"codeVoice"},{"type":"text","text":", provided by vendor for your particular business needs."},{"type":"text","text":" "},{"type":"text","text":"To use that, you just need to implement proper "},{"type":"reference","isActive":true,"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChatDelegate"},{"text":" method:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["var metadata: String {","    \"\"\"","    \"currentPage\": \"some-random-string\",","    \"currentPageTitle\": \"another-random-string\"","    \"\"\"","}"]},{"inlineContent":[{"type":"text","text":"Please note: You should stick to the formatting, provided by Vendor, otherwise "},{"code":"metadata","type":"codeVoice"},{"text":" will be considered as invalid without explicit errors thrown.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"Additional Methods","anchor":"Additional-Methods","level":2},{"inlineContent":[{"type":"text","text":"You can use a set of additional methods to interact directly with Chat Widget. These methods are lised as a part of "},{"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChat","isActive":true,"type":"reference"},{"text":" instance.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"sendMessage","type":"codeVoice"},{"type":"text","text":" method allows the customer to programmatically send a message on the user behalf. This method is not available once the user is handed over to a crm:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func sendMessage(_ message: String, completion: @escaping (Result<Void, Error>) -> Void)","","func sendMessage(_ message: String) async throws"]},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"launchWidget"},{"text":" method allows the customer to programmatically launch the widget:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func launchWidget(_ completion: @escaping (Result<Void, Error>) -> Void)","","func launchWidget() async throws"]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"initProactiveButtons"},{"type":"text","text":" method allows the customer to programmatically trigger the proactive buttons to display:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func initProactiveButtons(values: String, completion: @escaping (Result<Void, Error>) -> Void)","","func initProactiveButtons(values: String) async throws"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"code":"minimizeWidget","type":"codeVoice"},{"text":" method allows customer to minimise an expanded chat UI to the ‚Äúlauncher‚Äù state programmatically:","type":"text"}]},{"syntax":"swift","code":["func minimizeWidget(_ completion: @escaping (Result<Void, Error>) -> Void)","","func minimizeWidget() async throws"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"type":"reference","identifier":"https:\/\/docs.digitalgenius.com\/docs\/methods","isActive":true},{"text":" for more details.","type":"text"}]},{"text":"Sample project","type":"heading","anchor":"Sample-project","level":2},{"inlineContent":[{"text":"The interaction model and example usage can be found in Demo project. Please note that all DGChatDelegate methods are implemented in one isolated instance for ease of use, but it‚Äôs ","type":"text"},{"inlineContent":[{"type":"text","text":"not"}],"type":"strong"},{"type":"text","text":" a requirement."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Project UI root is UITabBarController which holds few UIViewControllers. Each one represents a particular way of DGChatSDK usage."}],"type":"paragraph"},{"inlineContent":[{"type":"codeVoice","code":"ManualCallController.swift"},{"type":"text","text":" - demonstrates a step-by-step call of DGChatSDK from user-defined UI."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"code":"StraightForwardController.swift","type":"codeVoice"},{"type":"text","text":" - can be useful example for those cases, when you need to present Chat Widget during view presentation process."}]},{"inlineContent":[{"code":"CustomAnimationController.swift","type":"codeVoice"},{"type":"text","text":" - provides an example of custom animation added to presentation\/dismissal process of Chat Widget."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"code":"NavigationCallController.swift","type":"codeVoice"},{"text":" - gives an idea on how to keep DGChat widget running across different ViewControllers pushed to the stack.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"üí≠ Please note, that in each call of:"}]},{"code":["func added(to: UIViewController, animated: Bool, completion: ((UIView) -> Void)?)"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"is that completion closure produces UIView object which is a reference to an overlay view used by DGChat SDK to represent all needed information."}]},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"You can use that reference to show, hide, move, adjust size and perform any other actions available for UIView to adjust DGChat‚Äôs placement, appearance and etc. according to your needs and your particular project.","type":"text"}]}]}],"style":"note"},{"type":"paragraph","inlineContent":[{"text":"Example on how that UIView can be manipulated can be found in ","type":"text"},{"code":"CustomAnimationController.swift","type":"codeVoice"},{"text":".","type":"text"}]},{"text":"SwiftUI","level":3,"anchor":"SwiftUI","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you are using SwiftUI for your project, please use "},{"code":"GeniusChatView","type":"codeVoice"},{"text":" as listed on the example below:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["var body: some View {","    VStack {","        GeniusChatView(","            widgetId: \"your_widget_id\",","            env: \"some.env\",","            scriptVersion: \"1.1.0\")","    }","    .padding()","}"]},{"inlineContent":[{"type":"codeVoice","code":"GeniusChatView"},{"type":"text","text":" is SwiftUI View which is a wrapper for UIKit code of DGChatSDK using Apple‚Äôs "},{"identifier":"https:\/\/developer.apple.com\/tutorials\/swiftui\/interfacing-with-uikit","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"type":"codeVoice","code":"GeniusChatView"},{"type":"text","text":" supports all the same methods of DGChatSDK."}],"type":"paragraph"},{"type":"heading","level":3,"text":"ReactNative","anchor":"ReactNative"},{"inlineContent":[{"type":"text","text":"To use Genius SDK in ReactNative projects, please follow these steps:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"code":"ReactNativePublicDemo\/dgchatsdk","type":"codeVoice"},{"type":"text","text":" folder as a root."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Add prebuilt framework (","type":"text"},{"type":"codeVoice","code":".xcframework"},{"type":"text","text":" file) of DGChatSDK for ios into "},{"type":"codeVoice","code":".\/dgchatsdk\/ios"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"In "},{"type":"codeVoice","code":".\/dgchatsdk folder"},{"type":"text","text":"  run: "},{"type":"codeVoice","code":"npm install"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"After that, run: "},{"type":"codeVoice","code":"cd ios && pod install && cd .."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Open "},{"code":"dgchatsdk.xcworkspace","type":"codeVoice"},{"text":" in ","type":"text"},{"type":"codeVoice","code":".\/ios"},{"text":" folder to use from Xcode.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Build&run project.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Modify "},{"type":"codeVoice","code":"App.tsx"},{"text":" file if needed in ","type":"text"},{"type":"codeVoice","code":".\/dgchatsdk"},{"type":"text","text":" folder"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Module "},{"type":"codeVoice","code":"DGChatModule"},{"text":" has 3 functions and JS emiters for chat actions callbacks.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Please consult example of usage in "},{"type":"codeVoice","code":"App.tsx"},{"text":".","type":"text"}]}]}],"type":"orderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Initial setup will look like:"}]},{"syntax":"js","code":["DGChatModule.showDGChatView(","  'Place your widgetId here',","  'Place your flowURL here',","  'Place a version of SDK here',","  'Place your widget environment here',",");"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"And a callbacks section:"}]},{"syntax":"js","code":["const eventEmitter = new NativeEventEmitter(DGChatModule);","let onChatMinimizeClickEventListener = eventEmitter.addListener(","  'OnChatMinimizeClick',","  () => {","    DGChatModule.logActionWith('OnChatMinimizeClick');","  },",");","let onChatEndClickEventListener = eventEmitter.addListener(","  'onChatEndClick',","  () => {","    DGChatModule.logActionWith('onChatEndClick');","  },",");","let onChatLauncherClickEventListener = eventEmitter.addListener(","  'onChatLauncherClick',","  () => {","    DGChatModule.logActionWith('onChatLauncherClick');","  },",");","let onChatProactiveButtonClickEventListener = eventEmitter.addListener(","  'onChatProactiveButtonClick',","  () => {","    DGChatModule.logActionWith('onChatProactiveButtonClick');","  },",");","let onCSATPopoverCloseClicked = eventEmitter.addListener(","  'onCSATPopoverCloseClicked',","  () => {","    DGChatModule.logActionWith('onCSATPopoverCloseClicked');","  },",");"],"type":"codeListing"},{"inlineContent":[{"text":"For more detailed example, please refer to ","type":"text"},{"type":"codeVoice","code":"App.tsx"},{"type":"text","text":"."}],"type":"paragraph"}]}],"identifier":{"url":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChatSDK","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"iOS SDK for DigitalGenius Chat."}],"variants":[{"paths":["\/documentation\/dgchatsdk\/dgchatsdk"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"title":"DGChatSDK","modules":[{"name":"DGChatSDK"}],"role":"article","roleHeading":"Article"},"hierarchy":{"paths":[["doc:\/\/DGChatSDK\/documentation\/DGChatSDK"]]},"kind":"article","references":{"https://en.wikipedia.org/wiki/Software_versioning":{"title":"Semantic versioning three-part version number","titleInlineContent":[{"type":"text","text":"Semantic versioning three-part version number"}],"identifier":"https:\/\/en.wikipedia.org\/wiki\/Software_versioning","url":"https:\/\/en.wikipedia.org\/wiki\/Software_versioning","type":"link"},"doc://DGChatSDK/documentation/DGChatSDK":{"title":"DGChatSDK","url":"\/documentation\/dgchatsdk","kind":"symbol","identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK","role":"collection","type":"topic","abstract":[]},"https://docs.digitalgenius.com/docs/methods":{"type":"link","titleInlineContent":[{"type":"text","text":"full methods list"}],"url":"https:\/\/docs.digitalgenius.com\/docs\/methods","identifier":"https:\/\/docs.digitalgenius.com\/docs\/methods","title":"full methods list"},"doc://DGChatSDK/documentation/DGChatSDK/DGChat":{"navigatorTitle":[{"kind":"identifier","text":"DGChat"}],"type":"topic","kind":"symbol","abstract":[{"text":"Entry point for interaction with ","type":"text"},{"type":"codeVoice","code":"DGChatSDK"},{"text":".","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"DGChat"}],"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChat","url":"\/documentation\/dgchatsdk\/dgchat","role":"symbol","title":"DGChat"},"https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit":{"title":"Coordinator pattern","titleInlineContent":[{"type":"text","text":"Coordinator pattern"}],"identifier":"https:\/\/developer.apple.com\/tutorials\/swiftui\/interfacing-with-uikit","url":"https:\/\/developer.apple.com\/tutorials\/swiftui\/interfacing-with-uikit","type":"link"},"doc://DGChatSDK/documentation/DGChatSDK/DGChatDelegate":{"type":"topic","identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChatDelegate","abstract":[{"text":"Delegate for ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChat"},{"type":"text","text":" which is responsible for most of interactions with "},{"identifier":"doc:\/\/DGChatSDK\/documentation\/DGChatSDK\/DGChat","type":"reference","isActive":true},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Provides user actions callbacks, in-chat URL opening attempt to process it inside the app"},{"type":"text","text":" "},{"type":"text","text":"and requests configuration for SDK client which will be passed to DigitalGenius servers."}],"title":"DGChatDelegate","url":"\/documentation\/dgchatsdk\/dgchatdelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DGChatDelegate"}],"kind":"symbol","navigatorTitle":[{"text":"DGChatDelegate","kind":"identifier"}],"role":"symbol"}}}